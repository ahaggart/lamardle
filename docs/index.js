(()=>{"use strict";var t,e={162:(t,e,s)=>{s.r(e);var i=s(279);class r extends HTMLElement{constructor(t){super(),this.grid=t,this.letters="",this.enabled=!0,this.container=document.createElement("div"),this.container.style.margin="0 5px",this.container.appendChild(this.createRow("qwertyuiop")),this.container.appendChild(this.createRow(" asdfghjkl ")),this.container.appendChild(this.createRow("+zxcvbnm-")),this.appendChild(this.container)}backspace(){this.enabled&&0!=this.letters.length&&(this.letters=this.letters.substring(0,this.letters.length-1),this.grid.setLetters(this.letters))}appendLetter(t){this.enabled&&5!=this.letters.length&&(this.letters+=t,this.grid.setLetters(this.letters))}submit(){this.enabled&&this.grid.submit()&&(this.letters="")}createRow(t){const e=document.createElement("div");e.classList.add("game-keyboard-row");for(let s of t)if(" "===s){const t=document.createElement("div");t.classList.add("point-five"),e.appendChild(t)}else if("+"===s){const t=document.createElement("button");t.classList.add("key","one-point-five","enter"),t.innerText="enter",t.addEventListener("click",(()=>this.submit())),e.appendChild(t)}else if("-"===s){const t=document.createElement("button");t.classList.add("key","one-point-five","delete"),t.innerText="del",t.addEventListener("click",(()=>this.backspace())),e.appendChild(t)}else{const t=document.createElement("button");t.classList.add("key"),t.addEventListener("click",(()=>this.appendLetter(s))),t.innerText=s,e.appendChild(t)}return e}disable(){this.enabled=!1}enable(){this.enabled=!0}show(){this.container.classList.remove("hidden")}hide(){this.container.classList.add("hidden")}}customElements.define("game-keyboard",r);class a extends HTMLElement{constructor(t,e){super(),this.pos=e,this.setLetter(t||""),this.classList.add("letter","no-match")}setLetter(t){this.letter=t,this.innerText=t}setMatch(t,e){this.classList.remove("both-match","upper-match","lower-match","no-match"),t&&e?this.classList.add("both-match"):e?this.classList.add("lower-match"):t?this.classList.add("upper-match"):this.classList.add("no-match")}setHighlight(t){this.style.borderColor=t?"var(--highlight-color)":"var(--non-highlight-color)"}}customElements.define("grid-letter",a);class h extends HTMLElement{tiles=[];letters="";constructor(t){super(),this.config=t,this.classList.add("grid-row");for(let t=0;t<this.config.letters;t++){const e=new a("",t);this.tiles.push(e),this.appendChild(e)}this.setLetters(this.getAttribute("letters"))}setLetters(t){this.letters=t||"";const e=this.letters.substring(0,this.config.letters).padEnd(this.config.letters," ");for(let t=0;t<this.config.letters;t++)this.tiles[t].setLetter(e[t])}updateMatches(t,e){for(let s=0;s<this.tiles.length;s++)this.tiles[s].setMatch(this.tiles[s].letter===t.tiles[s].letter,this.tiles[s].letter===e.tiles[s].letter)}setHighlight(t){this.tiles.forEach((e=>e.setHighlight(t)))}isComplete(){return this.letters.length===this.config.letters}doesMatch(t){if(!this.isComplete()||!t.isComplete())return!1;var e=0;for(let s=0;s<this.config.letters;s++)this.letters[s]===t.letters[s]&&e++;return!(e<this.config.matches)}wiggle(){this.setAttribute("wiggle",""),window.setTimeout((()=>this.removeAttribute("wiggle")),i.xw)}}customElements.define("grid-row",h);var n=s(430);class o extends HTMLElement{constructor(t,e){super(),this.config=t,this.winCallback=e.onWin,this.rowConfig={letters:this.config.letters,matches:this.config.matches},this.numGuesses=0,this.upperMatches=[],this.lowerMatches=[],this.id="game-grid",this.grid=document.createElement("div"),this.grid.classList.add("grid"),this.grid.id="grid",this.grid.style.setProperty("--num-rows",this.config.rows),this.appendChild(this.grid),n.W.addListener((t=>{this.words=t,this.createRows(),e.onLoad&&e.onLoad(this)}))}getRandomWord(t){return this.words[Math.abs(this.getHashCode(t))%this.words.length]}createRows(){this.upper=new h(this.rowConfig),this.upperStart=this.getRandomWord(this.config.seed),this.upper.setLetters(this.upperStart),this.lower=new h(this.rowConfig),this.lowerStart=this.getRandomWord(this.config.seed+"salt"),this.lower.setLetters(this.lowerStart),this.lower.id="goal",this.current=new h(this.rowConfig),this.current.setHighlight(!0);const t=Math.ceil((this.config.rows-3)/2),e=Math.floor((this.config.rows-3)/2);Array(t).fill().forEach((()=>this.grid.appendChild(new h(this.rowConfig)))),this.grid.appendChild(this.upper),this.grid.appendChild(this.current),this.grid.appendChild(this.lower),Array(e).fill().forEach((()=>this.grid.appendChild(new h(this.rowConfig))))}setLetters(t){this.current.setLetters(t),this.current.updateMatches(this.upper,this.lower)}getTileSize(t){const e=i.V2*(this.config.letters-1),s=Math.floor((t.width-e)/this.config.letters),r=2*i.ff,a=i.V2*(this.config.rows-1),h=Math.floor((t.height-a-r)/this.config.rows);return Math.min(s,h)}resize(t){const e=i.V2*(this.config.letters-1),s=i.V2*(this.config.rows-1),r=this.getTileSize(t),a=r*this.config.letters+e,h=r*this.config.rows+s;return this.grid.style.width=a+"px",this.grid.style.height=h+"px",t.height-h-10}submit(){if(!this.current.isComplete())return this.current.wiggle(),!1;if(!this.words.includes(this.current.letters))return this.current.wiggle(),!1;const t=this.current.doesMatch(this.upper),e=this.current.doesMatch(this.lower);if(!t&&!e)return this.current.wiggle(),!1;if(this.numGuesses++,t&&e)return this.upperMatches.push(this.upper.letters),this.lowerMatches.push(this.lower.letters),this.winCallback({upper:this.upperMatches,solution:this.current.letters,lower:this.lowerMatches}),!0;const s=new h(this.rowConfig);return s.setHighlight(!0),this.current.setHighlight(!1),t?(this.upperMatches.push(this.upper.letters),this.grid.children[0].remove(),this.upper=this.current,this.current=s,this.grid.insertBefore(this.current,this.lower)):(this.lowerMatches.push(this.lower.letters),this.grid.children[this.grid.children.length-1].remove(),this.lower=this.current,this.current=s,this.grid.insertBefore(this.current,this.lower)),!0}getHashCode(t){for(var e=0,s=0;s<t.length;s++)e=(e<<5)-e+t.charCodeAt(s),e&=e;return e}}function d(t){const e=document.createElement("p");return e.innerText=t.join(" "),e}customElements.define("game-grid",o);class l extends HTMLElement{constructor(t,e,s){super(),this.overlay=document.createElement("div"),this.overlay.classList.add("overlay","tutorial","hidden"),this.appendChild(this.overlay),this.textContainer=document.createElement("div"),this.textContainer.style.width=s.width+"px",this.textContainer.style.margin="auto",this.overlay.appendChild(this.textContainer);const i=document.createElement("div");i.classList.add("tutorial-title"),i.innerText="How to Play",this.textContainer.appendChild(i),this.textContainer.appendChild(d(['The goal of LAMARDLE is to find words which "match" the words','above or below them. Two words "match" when they share 3 or more',"letters in the same position."]));const r=new o({...e,rows:3},{onLoad:()=>{r.upper.setLetters("hello"),r.lower.setLetters("world")}});r.resize({width:s.width,height:200}),this.textContainer.appendChild(r),this.textContainer.appendChild(d(["When you enter a word that matches the word above or below, it","will replace that word. If the word matches both words, you win!"]));const a=new o({...e,rows:3},{onLoad:()=>{a.upper.setLetters("hello"),a.lower.setLetters("world"),a.setLetters("would")}});a.resize({width:s.width,height:200}),this.textContainer.appendChild(a),this.textContainer.appendChild(d(['In the example above, the middle word "would" matches "w", "o",','"l", and "d" from "world". It also matches "l" from "hello". When','entered, the lower word "world" is replaced with "would", so the','next word should match either "hello" or "would".']));const h=new o({...e,rows:3},{onLoad:()=>{h.upper.setLetters("hello"),h.lower.setLetters("world"),h.setLetters("would"),h.submit()}});h.resize({width:s.width,height:200}),this.textContainer.appendChild(h),this.textContainer.appendChild(d(["Tap anywhere to continue. Happy Mother's Day!"])),t.hasVisited()||this.show(),this.overlay.onclick=()=>{this.hide(),t.setVisited()}}show(){this.overlay.classList.remove("hidden")}hide(){this.overlay.classList.add("hidden")}}customElements.define("game-tutorial",l);class c{constructor(){}solve(t,e){const s=new Map;s.set(t,null);for(var i=[t],r=[];i.length>0;){const t=i.pop();var a=!1;if(this.graph[t].forEach((i=>{s.has(i)||(s.set(i,t),r.push(i),i===e&&(a=!0))})),a)break;0===i.length&&0!==r.length&&(i=r,r=[])}const h=[e];var n=e;if(s.has(e)){for(;n!==t;)n=s.get(n),h.push(n);return h}return[]}loadGraph(){const t=new XMLHttpRequest;return new Promise(((e,s)=>{t.onreadystatechange=s=>{t.readyState===XMLHttpRequest.DONE&&200===t.status&&(this.graph=JSON.parse(t.responseText),e())},t.open("GET","graph.json"),t.send()}))}}class p{schema={visited:t=>"true"===t,streak:t=>parseInt(t),mostRecent:t=>t};constructor(t){this.date=t;const e=this.parseCookie();this.data={visited:e.visited??!1,streak:e.streak??0,mostRecent:e.mostRecent??""},this.checkStreak()}setVisited(){this.data.visited=!0,this.saveData()}hasVisited(){return this.data.visited}checkStreak(){if(this.data.mostRecent===this.formatDate(this.date))return;const t=new Date(this.date);t.setDate(this.date.getDate()-1),this.data.mostRecent!==this.formatDate(t)&&(this.data.streak=0)}addStreak(){this.data.mostRecent!==this.formatDate(this.date)&&(this.data.streak++,this.data.mostRecent=this.formatDate(this.date),this.saveData())}saveData(){const t=new Date;t.setDate((new Date).getDate()+i.c1);const e="expires="+t.toUTCString();for(let t in this.data)document.cookie=t+"="+this.data[t]+";"+e}parseCookie(){const t={};return document.cookie&&decodeURI(document.cookie).split(";").map((t=>t.split("="))).forEach((e=>{const s=e[0].trim(),i=e[1];this.schema.hasOwnProperty(s)&&(t[s]=this.schema[s](i))})),t}formatDate(t){return[t.getFullYear().toString(),(t.getMonth()+1).toString().padStart(2,"0"),t.getDate().toString().padStart(2,"0")].join("")}}class u extends HTMLElement{constructor(){super(),this.gameData=new p(new Date),this.container=document.createElement("div"),this.container.classList.add("container"),this.appendChild(this.container),this.winPopup=document.createElement("div"),this.winPopup.classList.add("overlay","hidden"),this.container.appendChild(this.winPopup),this.winPopup.onclick=()=>{this.winPopup.classList.add("hidden"),this.keyboard.disable()},this.winMessage=document.createElement("div"),this.winMessage.classList.add("winMessage"),this.winPopup.appendChild(this.winMessage),this.winMessageText=document.createElement("div"),this.winMessage.appendChild(this.winMessageText),this.winMessageShare=document.createElement("div"),this.winMessageShare.classList.add("share-result"),this.winMessageShare.innerText="Share!",this.winMessage.appendChild(this.winMessageShare),this.header=document.createElement("div"),this.header.classList.add("header"),this.container.appendChild(this.header),this.spacerLeft=document.createElement("div"),this.spacerLeft.classList.add("spacer-left"),this.header.appendChild(this.spacerLeft),this.spacerLeft.appendChild(this.createHeaderLink("home.svg",this.getDailyPuzzleLink(),{altText:"go to daily puzzle"})),this.spacerLeft.appendChild(this.createHeaderLink("dice-3.svg",this.getRandomPuzzleLink(),{altText:"go to random puzzle"})),this.titleText=document.createElement("div"),this.titleText.innerText="LAMARDLE",this.titleText.classList.add("title-text"),this.header.appendChild(this.titleText),this.spacerRight=document.createElement("div"),this.spacerRight.classList.add("spacer-right"),this.header.appendChild(this.spacerRight),this.spacerRight.appendChild(this.createHeaderLink("source.svg","https://github.com/ahaggart/lamardle",{newTab:!0,altText:"go to source code"}));const t=this.createHeaderIcon("help.svg",{altText:"show tutorial"});this.spacerRight.appendChild(t),this.urlSeed=new URL(document.location).searchParams.get("seed");const e=this.gameData.formatDate(this.gameData.date);this.seed=this.urlSeed??e;const s={seed:this.seed,rows:7,letters:5,matches:3};this.tutorial=new l(this.gameData,s,this.getGridArea()),this.container.appendChild(this.tutorial),t.onclick=()=>this.tutorial.show(),this.grid=new o(s,{onWin:t=>this.winGame(t)}),this.container.append(this.grid),this.keyboard=new r(this.grid),this.container.append(this.keyboard),this.solver=new c,this.resizeGrid(),window.addEventListener("resize",(()=>this.resizeGrid())),document.addEventListener("keydown",(t=>{"Backspace"===t.key?this.keyboard.backspace():"Enter"===t.key?this.keyboard.submit():t.key.match(/^[a-z]$/)&&this.keyboard.appendLetter(t.key)}))}createHeaderLink(t,e,s={}){const i=document.createElement("a");return i.setAttribute("href",e),s.newTab&&i.setAttribute("target","_blank"),i.appendChild(this.createHeaderIcon(t,s)),i}createHeaderIcon(t,e={}){const s=document.createElement("img");return s.setAttribute("src",t),s.setAttribute("width",i.L1),s.setAttribute("height",i.L1),e.altText&&s.setAttribute("alt",e.altText),(e.title||e.altText)&&s.setAttribute("title",e.title??e.altText),s}getGridArea(){return{width:Math.min(i.d,window.innerWidth-i.XC),height:window.innerHeight-i.aK-i.Mz}}resizeGrid(){const t=this.grid.resize(this.getGridArea());this.grid.grid.style.marginBottom=t+"px"}computeMatching(t,e){const s=[];var i=t;for(let t=0;t<e.length;t++){const r=e[e.length-t-1],a=i.split("").map(((t,e)=>[t,r.charAt(e)])).map((([t,e])=>t===e));s.push(a),i=r}return s.reverse(),s}formatMatching(t,e,s){return t.map((t=>t.map((t=>t?e:s)).join("")))}createShareMessage(t,e){const s=this.formatMatching(this.computeMatching(t.solution,t.upper),i.JH,i.lw),r=this.formatMatching(this.computeMatching(t.solution,t.lower),i.LH,i.lw);return r.reverse(),Array.prototype.concat(["lamardle",e,this.grid.numGuesses+" tries"],s,[t.solution.split("").map((()=>i.V3)).join("")],r).join("\n")}computePar(){const t=this.solver.solve(this.grid.upperStart,this.grid.lowerStart);return Math.max(1,t.length-2)}async winGame(t){const e=[];e.push("You won in "+this.grid.numGuesses+" tries!"),await this.solver.loadGraph(),e.push("Par: "+this.computePar()),this.seed===this.gameData.formatDate(this.gameData.date)&&(this.gameData.addStreak(),e.push("Current Streak: "+this.gameData.data.streak)),this.winPopup.classList.remove("hidden"),this.winMessageText.innerText=e.join("\n"),this.winMessageShare.onclick=e=>{e.stopPropagation();const s=this.createShareMessage(t,document.location.origin+"?seed="+this.seed),i="Failed to Share :(",r=this.winMessageShare.innerText;navigator.share?navigator.share({title:document.title,text:s}).catch((()=>this.winMessageShare.innerText=i)):navigator.clipboard?(navigator.clipboard.writeText(s),this.winMessageShare.innerText="Copied to clipboard!",window.setTimeout((()=>this.winMessageShare.innerText=r),3e3)):this.winMessageShare.innerText=i}}getDailyPuzzleLink(){return"./"}getRandomPuzzleLink(){return"./?seed="+this.randomString()}randomString(){const t=[];for(let e=0;e<16;e++)t.push(Math.floor(10*Math.random()));return t.join("")}}customElements.define("lamardle-game",u)},279:(t,e,s)=>{s.d(e,{JH:()=>g,L1:()=>c,LH:()=>u,Mz:()=>n,V2:()=>i,V3:()=>w,XC:()=>l,XV:()=>a,aK:()=>d,c1:()=>p,d:()=>r,ff:()=>h,lw:()=>m,xw:()=>o});const i=5,r=500,a=5,h=10,n=50,o=400,d=184,l=2*h,c=25,p=3,u="ðŸ”¼",g="ðŸ”½",m="âº",w="*ï¸âƒ£"},430:(t,e,s)=>{s.d(e,{W:()=>r,y:()=>a});var i=s(279);const r=new class{constructor(t){this.numLetters=t,this.isReady=!1,this.onReady=[],this.words=[]}addListener(t){this.onReady.push(t),this.isReady&&t(words)}setWords(t){this.words=t.split("\n"),this.isReady=!0,this.onReady.forEach((t=>t(this.words)))}}(i.XV);function a(t){const e=new XMLHttpRequest;e.onreadystatechange=s=>{e.readyState===XMLHttpRequest.DONE&&200===e.status&&t(e.responseText)},e.open("GET","five-letters.txt"),e.send()}}},s={};function i(t){var r=s[t];if(void 0!==r)return r.exports;var a=s[t]={exports:{}};return e[t](a,a.exports,i),a.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t=i(430),i(162),(0,t.y)((e=>t.W.setWords(e)))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxFQUFFRCxFQUFZL1IsS0FBU3VSLEVBQW9CUyxFQUFFTCxFQUFTM1IsSUFDNUVpUyxPQUFPQyxlQUFlUCxFQUFTM1IsRUFBSyxDQUFFbVMsWUFBWSxFQUFNcEssSUFBS2dLLEVBQVcvUixNQ0ozRXVSLEVBQW9CUyxFQUFJLENBQUNJLEVBQUs5SCxJQUFVMkgsT0FBT3ZELFVBQVU1RCxlQUFldUgsS0FBS0QsRUFBSzlILEdDQ2xGaUgsRUFBb0JlLEVBQUtYLElBQ0gsb0JBQVhZLFFBQTBCQSxPQUFPQyxhQUMxQ1AsT0FBT0MsZUFBZVAsRUFBU1ksT0FBT0MsWUFBYSxDQUFFckosTUFBTyxXQUU3RDhJLE9BQU9DLGVBQWVQLEVBQVMsYUFBYyxDQUFFeEksT0FBTyxLLFNDSnZELEVBQVEsTUFFUixRQUFVN0YsR0FBUyxFQUFBRCxFQUFBLFNBQW1CQyxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGFtYXJkbGUvLi9zcmMvR2FtZUtleWJvYXJkLmpzIiwid2VicGFjazovL2xhbWFyZGxlLy4vc3JjL0dyaWRMZXR0ZXIuanMiLCJ3ZWJwYWNrOi8vbGFtYXJkbGUvLi9zcmMvR3JpZFJvdy5qcyIsIndlYnBhY2s6Ly9sYW1hcmRsZS8uL3NyYy9HYW1lR3JpZC5qcyIsIndlYnBhY2s6Ly9sYW1hcmRsZS8uL3NyYy9HYW1lVHV0b3JpYWwuanMiLCJ3ZWJwYWNrOi8vbGFtYXJkbGUvLi9zcmMvR2FtZVNvbHZlci5qcyIsIndlYnBhY2s6Ly9sYW1hcmRsZS8uL3NyYy9HYW1lRGF0YS5qcyIsIndlYnBhY2s6Ly9sYW1hcmRsZS8uL3NyYy9MYW1hcmRsZUdhbWUuanMiLCJ3ZWJwYWNrOi8vbGFtYXJkbGUvLi9zcmMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2xhbWFyZGxlLy4vc3JjL2NvbnRleHQuanMiLCJ3ZWJwYWNrOi8vbGFtYXJkbGUvLi9zcmMvV29yZExpc3QuanMiLCJ3ZWJwYWNrOi8vbGFtYXJkbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbGFtYXJkbGUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2xhbWFyZGxlL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbGFtYXJkbGUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9sYW1hcmRsZS8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgR2FtZUtleWJvYXJkIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGdyaWQpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmdyaWQgPSBncmlkO1xuXG4gICAgICAgIHRoaXMubGV0dGVycyA9ICcnO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubWFyZ2luID0gXCIwIDVweFwiO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVJvdygncXdlcnR5dWlvcCcpKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVSb3coJyBhc2RmZ2hqa2wgJykpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVJvdygnK3p4Y3Zibm0tJykpO1xuICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBiYWNrc3BhY2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkIHx8IHRoaXMubGV0dGVycy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGV0dGVycyA9IHRoaXMubGV0dGVycy5zdWJzdHJpbmcoMCwgdGhpcy5sZXR0ZXJzLmxlbmd0aCAtIDEpO1xuICAgICAgICB0aGlzLmdyaWQuc2V0TGV0dGVycyh0aGlzLmxldHRlcnMpO1xuICAgIH1cblxuICAgIGFwcGVuZExldHRlcihsZXR0ZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQgfHwgdGhpcy5sZXR0ZXJzLmxlbmd0aCA9PSA1KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZXR0ZXJzICs9IGxldHRlcjtcbiAgICAgICAgdGhpcy5ncmlkLnNldExldHRlcnModGhpcy5sZXR0ZXJzKTtcbiAgICB9XG5cbiAgICBzdWJtaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWQgJiYgdGhpcy5ncmlkLnN1Ym1pdCgpKSB7XG4gICAgICAgICAgICB0aGlzLmxldHRlcnMgPSAnJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVJvdyhsZXR0ZXJzKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICByb3cuY2xhc3NMaXN0LmFkZCgnZ2FtZS1rZXlib2FyZC1yb3cnKTtcbiAgICAgICAgZm9yIChsZXQgbGV0dGVyIG9mIGxldHRlcnMpIHtcbiAgICAgICAgICAgIGlmIChsZXR0ZXIgPT09ICcgJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwYWNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIHNwYWNlci5jbGFzc0xpc3QuYWRkKCdwb2ludC1maXZlJyk7XG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHNwYWNlcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxldHRlciA9PT0gJysnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAga2V5LmNsYXNzTGlzdC5hZGQoJ2tleScsICdvbmUtcG9pbnQtZml2ZScsICdlbnRlcicpO1xuICAgICAgICAgICAgICAgIGtleS5pbm5lclRleHQgPSAnZW50ZXInO1xuICAgICAgICAgICAgICAgIGtleS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuc3VibWl0KCkpO1xuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChrZXkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsZXR0ZXIgPT09ICctJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgICAgIGtleS5jbGFzc0xpc3QuYWRkKCdrZXknLCAnb25lLXBvaW50LWZpdmUnLCAnZGVsZXRlJyk7XG4gICAgICAgICAgICAgICAga2V5LmlubmVyVGV4dCA9ICdkZWwnO1xuICAgICAgICAgICAgICAgIGtleS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuYmFja3NwYWNlKCkpO1xuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChrZXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgICAgICBrZXkuY2xhc3NMaXN0LmFkZCgna2V5Jyk7XG4gICAgICAgICAgICAgICAga2V5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5hcHBlbmRMZXR0ZXIobGV0dGVyKSk7XG4gICAgICAgICAgICAgICAga2V5LmlubmVyVGV4dCA9IGxldHRlcjtcbiAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb3c7XG4gICAgfVxuXG4gICAgZGlzYWJsZSgpIHtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZW5hYmxlKCkge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbn1cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZ2FtZS1rZXlib2FyZCcsIEdhbWVLZXlib2FyZCk7XG4iLCJleHBvcnQgY2xhc3MgR3JpZExldHRlciBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihsZXR0ZXIsIHBvcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5zZXRMZXR0ZXIobGV0dGVyIHx8ICcnKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdsZXR0ZXInLCAnbm8tbWF0Y2gnKTtcbiAgICB9XG5cbiAgICBzZXRMZXR0ZXIobGV0dGVyKSB7XG4gICAgICAgIHRoaXMubGV0dGVyID0gbGV0dGVyO1xuICAgICAgICB0aGlzLmlubmVyVGV4dCA9IGxldHRlcjtcbiAgICB9XG5cbiAgICBzZXRNYXRjaChtYXRjaFVwcGVyLCBtYXRjaExvd2VyKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYm90aC1tYXRjaCcsICd1cHBlci1tYXRjaCcsICdsb3dlci1tYXRjaCcsICduby1tYXRjaCcpO1xuICAgICAgICBpZiAobWF0Y2hVcHBlciAmJiBtYXRjaExvd2VyKSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2JvdGgtbWF0Y2gnKTtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaExvd2VyKSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2xvd2VyLW1hdGNoJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hVcHBlcikge1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCd1cHBlci1tYXRjaCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCduby1tYXRjaCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0SGlnaGxpZ2h0KGlzSGlnaGxpZ2h0ZWQpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5ib3JkZXJDb2xvciA9IGlzSGlnaGxpZ2h0ZWQgPyAndmFyKC0taGlnaGxpZ2h0LWNvbG9yKScgOiAndmFyKC0tbm9uLWhpZ2hsaWdodC1jb2xvciknO1xuICAgIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdncmlkLWxldHRlcicsIEdyaWRMZXR0ZXIpO1xuIiwiaW1wb3J0IHsgR3JpZExldHRlciB9IGZyb20gXCIuL0dyaWRMZXR0ZXJcIjtcbmltcG9ydCB7IElOVkFMSURfQU5JTUFUSU9OX0xFTkdUSF9NUyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgY2xhc3MgR3JpZFJvdyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICB0aWxlcyA9IFtdO1xuICAgIGxldHRlcnMgPSAnJztcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnZ3JpZC1yb3cnKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlnLmxldHRlcnM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGlsZSA9IG5ldyBHcmlkTGV0dGVyKCcnLCBpKTtcbiAgICAgICAgICAgIHRoaXMudGlsZXMucHVzaCh0aWxlKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldExldHRlcnModGhpcy5nZXRBdHRyaWJ1dGUoXCJsZXR0ZXJzXCIpKTtcbiAgICB9XG5cbiAgICBzZXRMZXR0ZXJzKGxldHRlcnMpIHtcbiAgICAgICAgdGhpcy5sZXR0ZXJzID0gbGV0dGVycyB8fCAnJztcbiAgICAgICAgY29uc3QgcGFkZGVkTGV0dGVycyA9IHRoaXMubGV0dGVyc1xuICAgICAgICAgICAgLnN1YnN0cmluZygwLCB0aGlzLmNvbmZpZy5sZXR0ZXJzKVxuICAgICAgICAgICAgLnBhZEVuZCh0aGlzLmNvbmZpZy5sZXR0ZXJzLCAnICcpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25maWcubGV0dGVyczsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGVzW2ldLnNldExldHRlcihwYWRkZWRMZXR0ZXJzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZU1hdGNoZXModXBwZXIsIGxvd2VyKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50aWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy50aWxlc1tpXS5zZXRNYXRjaChcbiAgICAgICAgICAgICAgICB0aGlzLnRpbGVzW2ldLmxldHRlciA9PT0gdXBwZXIudGlsZXNbaV0ubGV0dGVyLFxuICAgICAgICAgICAgICAgIHRoaXMudGlsZXNbaV0ubGV0dGVyID09PSBsb3dlci50aWxlc1tpXS5sZXR0ZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRIaWdobGlnaHQoaXNIaWdobGlnaHRlZCkge1xuICAgICAgICB0aGlzLnRpbGVzLmZvckVhY2godGlsZSA9PiB0aWxlLnNldEhpZ2hsaWdodChpc0hpZ2hsaWdodGVkKSk7XG4gICAgfVxuXG4gICAgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGV0dGVycy5sZW5ndGggPT09IHRoaXMuY29uZmlnLmxldHRlcnM7XG4gICAgfVxuXG4gICAgZG9lc01hdGNoKG90aGVyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0NvbXBsZXRlKCkgfHwgIW90aGVyLmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1hdGNoQ291bnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlnLmxldHRlcnM7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMubGV0dGVyc1tpXSA9PT0gb3RoZXIubGV0dGVyc1tpXSkge1xuICAgICAgICAgICAgICAgIG1hdGNoQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaENvdW50IDwgdGhpcy5jb25maWcubWF0Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgd2lnZ2xlKCkge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnd2lnZ2xlJywgJycpO1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgnd2lnZ2xlJyksIElOVkFMSURfQU5JTUFUSU9OX0xFTkdUSF9NUyk7XG4gICAgfVxufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdncmlkLXJvdycsIEdyaWRSb3cpO1xuIiwiaW1wb3J0IHsgR3JpZFJvdyB9IGZyb20gXCIuL0dyaWRSb3dcIjtcbmltcG9ydCB7IEdSSURfUk9XX0dBUCwgR1JJRF9QQURESU5HIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBXT1JEX0xJU1QgfSBmcm9tIFwiLi9jb250ZXh0XCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lR3JpZCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIGNhbGxiYWNrcykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLndpbkNhbGxiYWNrID0gY2FsbGJhY2tzLm9uV2luO1xuXG4gICAgICAgIHRoaXMucm93Q29uZmlnID0ge1xuICAgICAgICAgICAgbGV0dGVyczogdGhpcy5jb25maWcubGV0dGVycyxcbiAgICAgICAgICAgIG1hdGNoZXM6IHRoaXMuY29uZmlnLm1hdGNoZXMsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5udW1HdWVzc2VzID0gMDtcbiAgICAgICAgdGhpcy51cHBlck1hdGNoZXMgPSBbXTtcbiAgICAgICAgdGhpcy5sb3dlck1hdGNoZXMgPSBbXTtcblxuICAgICAgICB0aGlzLmlkID0gJ2dhbWUtZ3JpZCc7XG4gICAgICAgIHRoaXMuZ3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmdyaWQuY2xhc3NMaXN0LmFkZCgnZ3JpZCcpO1xuICAgICAgICB0aGlzLmdyaWQuaWQgPSAnZ3JpZCc7XG4gICAgICAgIHRoaXMuZ3JpZC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1udW0tcm93cycsIHRoaXMuY29uZmlnLnJvd3MpO1xuICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMuZ3JpZCk7XG5cbiAgICAgICAgV09SRF9MSVNULmFkZExpc3RlbmVyKHdvcmRzID0+IHtcbiAgICAgICAgICAgIHRoaXMud29yZHMgPSB3b3JkcztcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUm93cygpO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrcy5vbkxvYWQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3Mub25Mb2FkKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRSYW5kb21Xb3JkKHNlZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud29yZHNbTWF0aC5hYnModGhpcy5nZXRIYXNoQ29kZShzZWVkKSkgJSB0aGlzLndvcmRzLmxlbmd0aF07XG4gICAgfVxuXG4gICAgY3JlYXRlUm93cygpIHtcbiAgICAgICAgdGhpcy51cHBlciA9IG5ldyBHcmlkUm93KHRoaXMucm93Q29uZmlnKTtcbiAgICAgICAgdGhpcy51cHBlclN0YXJ0ID0gdGhpcy5nZXRSYW5kb21Xb3JkKHRoaXMuY29uZmlnLnNlZWQpO1xuICAgICAgICB0aGlzLnVwcGVyLnNldExldHRlcnModGhpcy51cHBlclN0YXJ0KTtcblxuICAgICAgICB0aGlzLmxvd2VyID0gbmV3IEdyaWRSb3codGhpcy5yb3dDb25maWcpO1xuICAgICAgICB0aGlzLmxvd2VyU3RhcnQgPSB0aGlzLmdldFJhbmRvbVdvcmQodGhpcy5jb25maWcuc2VlZCArICdzYWx0Jyk7XG4gICAgICAgIHRoaXMubG93ZXIuc2V0TGV0dGVycyh0aGlzLmxvd2VyU3RhcnQpO1xuICAgICAgICB0aGlzLmxvd2VyLmlkID0gJ2dvYWwnO1xuXG4gICAgICAgIHRoaXMuY3VycmVudCA9IG5ldyBHcmlkUm93KHRoaXMucm93Q29uZmlnKTtcbiAgICAgICAgdGhpcy5jdXJyZW50LnNldEhpZ2hsaWdodCh0cnVlKTtcblxuICAgICAgICBjb25zdCByb3dzQWJvdmUgPSBNYXRoLmNlaWwoKHRoaXMuY29uZmlnLnJvd3MgLSAzKSAvIDIuMCk7XG4gICAgICAgIGNvbnN0IHJvd3NCZWxvdyA9IE1hdGguZmxvb3IoKHRoaXMuY29uZmlnLnJvd3MgLSAzKSAvIDIuMCk7XG5cbiAgICAgICAgQXJyYXkocm93c0Fib3ZlKS5maWxsKClcbiAgICAgICAgICAgIC5mb3JFYWNoKCgpID0+IHRoaXMuZ3JpZC5hcHBlbmRDaGlsZChuZXcgR3JpZFJvdyh0aGlzLnJvd0NvbmZpZykpKTtcbiAgICAgICAgdGhpcy5ncmlkLmFwcGVuZENoaWxkKHRoaXMudXBwZXIpO1xuICAgICAgICB0aGlzLmdyaWQuYXBwZW5kQ2hpbGQodGhpcy5jdXJyZW50KTtcbiAgICAgICAgdGhpcy5ncmlkLmFwcGVuZENoaWxkKHRoaXMubG93ZXIpO1xuICAgICAgICBBcnJheShyb3dzQmVsb3cpLmZpbGwoKVxuICAgICAgICAgICAgLmZvckVhY2goKCkgPT4gdGhpcy5ncmlkLmFwcGVuZENoaWxkKG5ldyBHcmlkUm93KHRoaXMucm93Q29uZmlnKSkpO1xuICAgIH1cblxuICAgIHNldExldHRlcnMobGV0dGVycykge1xuICAgICAgICB0aGlzLmN1cnJlbnQuc2V0TGV0dGVycyhsZXR0ZXJzKTtcbiAgICAgICAgdGhpcy5jdXJyZW50LnVwZGF0ZU1hdGNoZXModGhpcy51cHBlciwgdGhpcy5sb3dlcik7XG4gICAgfVxuXG4gICAgZ2V0VGlsZVNpemUoZ3JpZEFyZWEpIHtcbiAgICAgICAgY29uc3QgY29sdW1uR2FwV2lkdGggPSBHUklEX1JPV19HQVAgKiAodGhpcy5jb25maWcubGV0dGVycyAtIDEpO1xuICAgICAgICBjb25zdCBtYXhUaWxlV2lkdGggPSBNYXRoLmZsb29yKChncmlkQXJlYS53aWR0aCAtIGNvbHVtbkdhcFdpZHRoKSAvIHRoaXMuY29uZmlnLmxldHRlcnMpO1xuXG4gICAgICAgIGNvbnN0IGdyaWRQYWRkaW5nSGVpZ2h0ID0gR1JJRF9QQURESU5HICogMjtcbiAgICAgICAgY29uc3Qgcm93R2FwSGVpZ2h0ID0gR1JJRF9ST1dfR0FQICogKHRoaXMuY29uZmlnLnJvd3MgLSAxKTtcbiAgICAgICAgY29uc3QgbWF4VGlsZUhlaWdodCA9IE1hdGguZmxvb3IoKGdyaWRBcmVhLmhlaWdodCAtIHJvd0dhcEhlaWdodCAtIGdyaWRQYWRkaW5nSGVpZ2h0KSAvIHRoaXMuY29uZmlnLnJvd3MpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLm1pbihtYXhUaWxlV2lkdGgsIG1heFRpbGVIZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHt3aWR0aCwgaGVpZ2h0fSBzaXplXG4gICAgICogQHJldHVybnMgYW1vdW50IG9mIFwibGVmdG92ZXJcIiBzcGFjZSB1bmRlciB0aGUgZ3JpZFxuICAgICAqL1xuICAgIHJlc2l6ZShzaXplKSB7XG4gICAgICAgIGNvbnN0IGNvbHVtbkdhcFdpZHRoID0gR1JJRF9ST1dfR0FQICogKHRoaXMuY29uZmlnLmxldHRlcnMgLSAxKTtcbiAgICAgICAgY29uc3Qgcm93R2FwSGVpZ2h0ID0gR1JJRF9ST1dfR0FQICogKHRoaXMuY29uZmlnLnJvd3MgLSAxKTtcbiAgICAgICAgY29uc3QgdGlsZVNpemUgPSB0aGlzLmdldFRpbGVTaXplKHNpemUpO1xuICAgICAgICBjb25zdCBncmlkV2lkdGggPSB0aWxlU2l6ZSAqIHRoaXMuY29uZmlnLmxldHRlcnMgKyBjb2x1bW5HYXBXaWR0aDtcbiAgICAgICAgY29uc3QgZ3JpZEhlaWdodCA9IHRpbGVTaXplICogdGhpcy5jb25maWcucm93cyArIHJvd0dhcEhlaWdodDtcblxuICAgICAgICB0aGlzLmdyaWQuc3R5bGUud2lkdGggPSBncmlkV2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLmdyaWQuc3R5bGUuaGVpZ2h0ID0gZ3JpZEhlaWdodCArICdweCc7XG4gICAgICAgIHJldHVybiAoc2l6ZS5oZWlnaHQgLSBncmlkSGVpZ2h0IC0gMTApO1xuICAgIH1cblxuICAgIHN1Ym1pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnQuaXNDb21wbGV0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQud2lnZ2xlKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMud29yZHMuaW5jbHVkZXModGhpcy5jdXJyZW50LmxldHRlcnMpKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQud2lnZ2xlKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1cHBlck1hdGNoID0gdGhpcy5jdXJyZW50LmRvZXNNYXRjaCh0aGlzLnVwcGVyKTtcbiAgICAgICAgY29uc3QgbG93ZXJNYXRjaCA9IHRoaXMuY3VycmVudC5kb2VzTWF0Y2godGhpcy5sb3dlcik7XG5cbiAgICAgICAgaWYgKCF1cHBlck1hdGNoICYmICFsb3dlck1hdGNoKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQud2lnZ2xlKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm51bUd1ZXNzZXMrKztcblxuICAgICAgICBpZiAodXBwZXJNYXRjaCAmJiBsb3dlck1hdGNoKSB7XG4gICAgICAgICAgICB0aGlzLnVwcGVyTWF0Y2hlcy5wdXNoKHRoaXMudXBwZXIubGV0dGVycyk7XG4gICAgICAgICAgICB0aGlzLmxvd2VyTWF0Y2hlcy5wdXNoKHRoaXMubG93ZXIubGV0dGVycyk7XG4gICAgICAgICAgICB0aGlzLndpbkNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICB1cHBlcjogdGhpcy51cHBlck1hdGNoZXMsXG4gICAgICAgICAgICAgICAgc29sdXRpb246IHRoaXMuY3VycmVudC5sZXR0ZXJzLFxuICAgICAgICAgICAgICAgIGxvd2VyOiB0aGlzLmxvd2VyTWF0Y2hlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdSb3cgPSBuZXcgR3JpZFJvdyh0aGlzLnJvd0NvbmZpZyk7XG4gICAgICAgIG5ld1Jvdy5zZXRIaWdobGlnaHQodHJ1ZSk7XG4gICAgICAgIHRoaXMuY3VycmVudC5zZXRIaWdobGlnaHQoZmFsc2UpO1xuXG4gICAgICAgIGlmICh1cHBlck1hdGNoKSB7XG4gICAgICAgICAgICB0aGlzLnVwcGVyTWF0Y2hlcy5wdXNoKHRoaXMudXBwZXIubGV0dGVycyk7XG4gICAgICAgICAgICB0aGlzLmdyaWQuY2hpbGRyZW5bMF0ucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnVwcGVyID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbmV3Um93O1xuICAgICAgICAgICAgdGhpcy5ncmlkLmluc2VydEJlZm9yZSh0aGlzLmN1cnJlbnQsIHRoaXMubG93ZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb3dlck1hdGNoZXMucHVzaCh0aGlzLmxvd2VyLmxldHRlcnMpO1xuICAgICAgICAgICAgdGhpcy5ncmlkLmNoaWxkcmVuW3RoaXMuZ3JpZC5jaGlsZHJlbi5sZW5ndGggLSAxXS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMubG93ZXIgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBuZXdSb3c7XG4gICAgICAgICAgICB0aGlzLmdyaWQuaW5zZXJ0QmVmb3JlKHRoaXMuY3VycmVudCwgdGhpcy5sb3dlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXRIYXNoQ29kZShzdHIpIHtcbiAgICAgICAgdmFyIGhhc2ggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNvZGU7XG4gICAgICAgICAgICBoYXNoID0gaGFzaCAmIGhhc2g7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbn1cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZ2FtZS1ncmlkJywgR2FtZUdyaWQpO1xuIiwiaW1wb3J0IHsgR2FtZUdyaWQgfSBmcm9tIFwiLi9HYW1lR3JpZFwiO1xuXG5mdW5jdGlvbiBwYXJhZ3JhcGgodGV4dCkge1xuICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgZWxlbS5pbm5lclRleHQgPSB0ZXh0LmpvaW4oJyAnKTtcbiAgICByZXR1cm4gZWxlbTtcbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVUdXRvcmlhbCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihnYW1lRGF0YSwgZ3JpZENvbmZpZywgZ3JpZEFyZWEpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5vdmVybGF5LmNsYXNzTGlzdC5hZGQoJ292ZXJsYXknLCAndHV0b3JpYWwnLCAnaGlkZGVuJyk7XG4gICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5KTtcblxuICAgICAgICB0aGlzLnRleHRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy50ZXh0Q29udGFpbmVyLnN0eWxlLndpZHRoID0gZ3JpZEFyZWEud2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLnRleHRDb250YWluZXIuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuICAgICAgICB0aGlzLm92ZXJsYXkuYXBwZW5kQ2hpbGQodGhpcy50ZXh0Q29udGFpbmVyKTtcblxuICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKCd0dXRvcmlhbC10aXRsZScpO1xuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnSG93IHRvIFBsYXknO1xuICAgICAgICB0aGlzLnRleHRDb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gICAgICAgIHRoaXMudGV4dENvbnRhaW5lci5hcHBlbmRDaGlsZChwYXJhZ3JhcGgoW1xuICAgICAgICAgICAgJ1RoZSBnb2FsIG9mIExBTUFSRExFIGlzIHRvIGZpbmQgd29yZHMgd2hpY2ggXCJtYXRjaFwiIHRoZSB3b3JkcycsXG4gICAgICAgICAgICAnYWJvdmUgb3IgYmVsb3cgdGhlbS4gVHdvIHdvcmRzIFwibWF0Y2hcIiB3aGVuIHRoZXkgc2hhcmUgMyBvciBtb3JlJyxcbiAgICAgICAgICAgICdsZXR0ZXJzIGluIHRoZSBzYW1lIHBvc2l0aW9uLidcbiAgICAgICAgXSkpO1xuXG4gICAgICAgIGNvbnN0IGV4YW1wbGUxID0gbmV3IEdhbWVHcmlkKFxuICAgICAgICAgICAgeyAuLi5ncmlkQ29uZmlnLCByb3dzOiAzIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb25Mb2FkOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGV4YW1wbGUxLnVwcGVyLnNldExldHRlcnMoJ2hlbGxvJyk7XG4gICAgICAgICAgICAgICAgICAgIGV4YW1wbGUxLmxvd2VyLnNldExldHRlcnMoJ3dvcmxkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGV4YW1wbGUxLnJlc2l6ZSh7IHdpZHRoOiBncmlkQXJlYS53aWR0aCwgaGVpZ2h0OiAyMDAgfSk7XG4gICAgICAgIHRoaXMudGV4dENvbnRhaW5lci5hcHBlbmRDaGlsZChleGFtcGxlMSk7XG5cbiAgICAgICAgdGhpcy50ZXh0Q29udGFpbmVyLmFwcGVuZENoaWxkKHBhcmFncmFwaChbXG4gICAgICAgICAgICAnV2hlbiB5b3UgZW50ZXIgYSB3b3JkIHRoYXQgbWF0Y2hlcyB0aGUgd29yZCBhYm92ZSBvciBiZWxvdywgaXQnLFxuICAgICAgICAgICAgJ3dpbGwgcmVwbGFjZSB0aGF0IHdvcmQuIElmIHRoZSB3b3JkIG1hdGNoZXMgYm90aCB3b3JkcywgeW91IHdpbiEnXG4gICAgICAgIF0pKTtcblxuICAgICAgICBjb25zdCBleGFtcGxlMiA9IG5ldyBHYW1lR3JpZChcbiAgICAgICAgICAgIHsgLi4uZ3JpZENvbmZpZywgcm93czogMyB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9uTG9hZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBleGFtcGxlMi51cHBlci5zZXRMZXR0ZXJzKCdoZWxsbycpO1xuICAgICAgICAgICAgICAgICAgICBleGFtcGxlMi5sb3dlci5zZXRMZXR0ZXJzKCd3b3JsZCcpO1xuICAgICAgICAgICAgICAgICAgICBleGFtcGxlMi5zZXRMZXR0ZXJzKCd3b3VsZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBleGFtcGxlMi5yZXNpemUoeyB3aWR0aDogZ3JpZEFyZWEud2lkdGgsIGhlaWdodDogMjAwIH0pO1xuICAgICAgICB0aGlzLnRleHRDb250YWluZXIuYXBwZW5kQ2hpbGQoZXhhbXBsZTIpO1xuXG4gICAgICAgIHRoaXMudGV4dENvbnRhaW5lci5hcHBlbmRDaGlsZChwYXJhZ3JhcGgoW1xuICAgICAgICAgICAgJ0luIHRoZSBleGFtcGxlIGFib3ZlLCB0aGUgbWlkZGxlIHdvcmQgXCJ3b3VsZFwiIG1hdGNoZXMgXCJ3XCIsIFwib1wiLCcsXG4gICAgICAgICAgICAnXCJsXCIsIGFuZCBcImRcIiBmcm9tIFwid29ybGRcIi4gSXQgYWxzbyBtYXRjaGVzIFwibFwiIGZyb20gXCJoZWxsb1wiLiBXaGVuJyxcbiAgICAgICAgICAgICdlbnRlcmVkLCB0aGUgbG93ZXIgd29yZCBcIndvcmxkXCIgaXMgcmVwbGFjZWQgd2l0aCBcIndvdWxkXCIsIHNvIHRoZScsXG4gICAgICAgICAgICAnbmV4dCB3b3JkIHNob3VsZCBtYXRjaCBlaXRoZXIgXCJoZWxsb1wiIG9yIFwid291bGRcIi4nXG4gICAgICAgIF0pKTtcblxuICAgICAgICBjb25zdCBleGFtcGxlMyA9IG5ldyBHYW1lR3JpZChcbiAgICAgICAgICAgIHsgLi4uZ3JpZENvbmZpZywgcm93czogMyB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9uTG9hZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBleGFtcGxlMy51cHBlci5zZXRMZXR0ZXJzKCdoZWxsbycpO1xuICAgICAgICAgICAgICAgICAgICBleGFtcGxlMy5sb3dlci5zZXRMZXR0ZXJzKCd3b3JsZCcpO1xuICAgICAgICAgICAgICAgICAgICBleGFtcGxlMy5zZXRMZXR0ZXJzKCd3b3VsZCcpO1xuICAgICAgICAgICAgICAgICAgICBleGFtcGxlMy5zdWJtaXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgZXhhbXBsZTMucmVzaXplKHsgd2lkdGg6IGdyaWRBcmVhLndpZHRoLCBoZWlnaHQ6IDIwMCB9KTtcblxuICAgICAgICB0aGlzLnRleHRDb250YWluZXIuYXBwZW5kQ2hpbGQoZXhhbXBsZTMpO1xuXG4gICAgICAgIHRoaXMudGV4dENvbnRhaW5lci5hcHBlbmRDaGlsZChwYXJhZ3JhcGgoW1xuICAgICAgICAgICAgJ1RhcCBhbnl3aGVyZSB0byBjb250aW51ZS4gSGFwcHkgTW90aGVyXFwncyBEYXkhJ1xuICAgICAgICBdKSk7XG5cbiAgICAgICAgaWYgKCFnYW1lRGF0YS5oYXNWaXNpdGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3ZlcmxheS5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICBnYW1lRGF0YS5zZXRWaXNpdGVkKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGhpcy5vdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMub3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG59XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2dhbWUtdHV0b3JpYWwnLCBHYW1lVHV0b3JpYWwpO1xuIiwiZXhwb3J0IGNsYXNzIEdhbWVTb2x2ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIHNvbHZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3QgcGF0aHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHBhdGhzLnNldChzdGFydCwgbnVsbCk7XG4gICAgICAgIHZhciB2aXNpdGluZyA9IFtzdGFydF07XG4gICAgICAgIHZhciB0b1Zpc2l0ID0gW107XG4gICAgICAgIHdoaWxlICh2aXNpdGluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdmlzaXRpbmcucG9wKCk7XG4gICAgICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5ncmFwaFtjdXJyZW50XS5mb3JFYWNoKHdvcmQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcGF0aHMuaGFzKHdvcmQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhzLnNldCh3b3JkLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdG9WaXNpdC5wdXNoKHdvcmQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAod29yZCA9PT0gZW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2aXNpdGluZy5sZW5ndGggPT09IDAgJiYgdG9WaXNpdC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICB2aXNpdGluZyA9IHRvVmlzaXQ7XG4gICAgICAgICAgICAgICAgdG9WaXNpdCA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGF0aCA9IFtlbmRdO1xuICAgICAgICB2YXIgY3VycmVudCA9IGVuZDtcbiAgICAgICAgaWYgKHBhdGhzLmhhcyhlbmQpKSB7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gcGF0aHMuZ2V0KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGxvYWRHcmFwaCgpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSBYTUxIdHRwUmVxdWVzdC5ET05FKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdyYXBoID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCAnZ3JhcGguanNvbicpO1xuICAgICAgICAgICAgcmVxdWVzdC5zZW5kKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENPT0tJRV9FWFBJUkFUSU9OX0RBWVMgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGNsYXNzIEdhbWVEYXRhIHtcbiAgICBzY2hlbWEgPSB7XG4gICAgICAgIHZpc2l0ZWQ6ICh2YWx1ZSkgPT4gdmFsdWUgPT09ICd0cnVlJyxcbiAgICAgICAgc3RyZWFrOiAodmFsdWUpID0+IHBhcnNlSW50KHZhbHVlKSxcbiAgICAgICAgbW9zdFJlY2VudDogKHZhbHVlKSA9PiB2YWx1ZSxcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IoZGF0ZSkge1xuICAgICAgICB0aGlzLmRhdGUgPSBkYXRlO1xuICAgICAgICBjb25zdCBjb29raWVEYXRhID0gdGhpcy5wYXJzZUNvb2tpZSgpO1xuXG4gICAgICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgICAgICAgIHZpc2l0ZWQ6IGNvb2tpZURhdGEudmlzaXRlZCA/PyBmYWxzZSxcbiAgICAgICAgICAgIHN0cmVhazogY29va2llRGF0YS5zdHJlYWsgPz8gMCxcbiAgICAgICAgICAgIG1vc3RSZWNlbnQ6IGNvb2tpZURhdGEubW9zdFJlY2VudCA/PyAnJyxcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmNoZWNrU3RyZWFrKCk7XG4gICAgfVxuXG4gICAgc2V0VmlzaXRlZCgpIHtcbiAgICAgICAgdGhpcy5kYXRhLnZpc2l0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNhdmVEYXRhKCk7XG4gICAgfVxuXG4gICAgaGFzVmlzaXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS52aXNpdGVkO1xuICAgIH1cblxuICAgIGNoZWNrU3RyZWFrKCkge1xuICAgICAgICBpZiAodGhpcy5kYXRhLm1vc3RSZWNlbnQgPT09IHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmRhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXlCZWZvcmUgPSBuZXcgRGF0ZSh0aGlzLmRhdGUpO1xuICAgICAgICBkYXlCZWZvcmUuc2V0RGF0ZSh0aGlzLmRhdGUuZ2V0RGF0ZSgpIC0gMSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YS5tb3N0UmVjZW50ICE9PSB0aGlzLmZvcm1hdERhdGUoZGF5QmVmb3JlKSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnN0cmVhayA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRTdHJlYWsoKSB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEubW9zdFJlY2VudCA9PT0gdGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5zdHJlYWsrKztcbiAgICAgICAgdGhpcy5kYXRhLm1vc3RSZWNlbnQgPSB0aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlKTtcbiAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xuICAgIH1cblxuICAgIHNhdmVEYXRhKCkge1xuICAgICAgICBjb25zdCBjb29raWVFeHBpcmF0aW9uRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvb2tpZUV4cGlyYXRpb25EYXRlLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgKyBDT09LSUVfRVhQSVJBVElPTl9EQVlTKTtcbiAgICAgICAgY29uc3QgZXhwaXJhdGlvblN0cmluZyA9ICdleHBpcmVzPScgKyBjb29raWVFeHBpcmF0aW9uRGF0ZS50b1VUQ1N0cmluZygpO1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gcHJvcCArICc9JyArIHRoaXMuZGF0YVtwcm9wXSArICc7JyArIGV4cGlyYXRpb25TdHJpbmc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJzZUNvb2tpZSgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgICBpZiAoZG9jdW1lbnQuY29va2llKSB7XG4gICAgICAgICAgICBkZWNvZGVVUkkoZG9jdW1lbnQuY29va2llKVxuICAgICAgICAgICAgICAgIC5zcGxpdCgnOycpXG4gICAgICAgICAgICAgICAgLm1hcChlbnRyeSA9PiBlbnRyeS5zcGxpdChcIj1cIikpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goa2V5VmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlWYWx1ZVswXS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0ga2V5VmFsdWVbMV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjaGVtYS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSB0aGlzLnNjaGVtYVtrZXldKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGZvcm1hdERhdGUoZGF0ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAoZGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpLFxuICAgICAgICAgICAgZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpLFxuICAgICAgICBdLmpvaW4oJycpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhFQURFUl9JQ09OX1NJWkUsIE1BWF9XSURUSCwgR1JJRF9QQURESU5HX1dJRFRILCBLRVlCT0FSRF9IRUlHSFQsIEhFQURFUl9IRUlHSFQsIERPV05fQVJST1csIE5PX0FSUk9XLCBVUF9BUlJPVywgU09MVVRJT05fTUFSS0VSIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBHYW1lS2V5Ym9hcmQgfSBmcm9tIFwiLi9HYW1lS2V5Ym9hcmRcIjtcbmltcG9ydCB7IEdhbWVHcmlkIH0gZnJvbSBcIi4vR2FtZUdyaWRcIjtcbmltcG9ydCB7IEdhbWVUdXRvcmlhbCB9IGZyb20gXCIuL0dhbWVUdXRvcmlhbFwiO1xuaW1wb3J0IHsgR2FtZVNvbHZlciB9IGZyb20gXCIuL0dhbWVTb2x2ZXJcIjtcbmltcG9ydCB7IEdhbWVEYXRhIH0gZnJvbSBcIi4vR2FtZURhdGFcIjtcblxuY2xhc3MgTGFtYXJkbGVHYW1lIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuZ2FtZURhdGEgPSBuZXcgR2FtZURhdGEobmV3IERhdGUoKSk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMud2luUG9wdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy53aW5Qb3B1cC5jbGFzc0xpc3QuYWRkKCdvdmVybGF5JywgJ2hpZGRlbicpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLndpblBvcHVwKTtcbiAgICAgICAgdGhpcy53aW5Qb3B1cC5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53aW5Qb3B1cC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmQuZGlzYWJsZSgpO1xuICAgICAgICAgICAgLy8gdGhpcy5rZXlib2FyZC5oaWRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53aW5NZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMud2luTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCd3aW5NZXNzYWdlJyk7XG4gICAgICAgIHRoaXMud2luUG9wdXAuYXBwZW5kQ2hpbGQodGhpcy53aW5NZXNzYWdlKTtcblxuICAgICAgICB0aGlzLndpbk1lc3NhZ2VUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMud2luTWVzc2FnZS5hcHBlbmRDaGlsZCh0aGlzLndpbk1lc3NhZ2VUZXh0KTtcblxuICAgICAgICB0aGlzLndpbk1lc3NhZ2VTaGFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLndpbk1lc3NhZ2VTaGFyZS5jbGFzc0xpc3QuYWRkKCdzaGFyZS1yZXN1bHQnKTtcbiAgICAgICAgdGhpcy53aW5NZXNzYWdlU2hhcmUuaW5uZXJUZXh0ID0gJ1NoYXJlISc7XG4gICAgICAgIHRoaXMud2luTWVzc2FnZS5hcHBlbmRDaGlsZCh0aGlzLndpbk1lc3NhZ2VTaGFyZSk7XG5cbiAgICAgICAgdGhpcy5oZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5oZWFkZXIuY2xhc3NMaXN0LmFkZCgnaGVhZGVyJyk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaGVhZGVyKTtcblxuICAgICAgICB0aGlzLnNwYWNlckxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5zcGFjZXJMZWZ0LmNsYXNzTGlzdC5hZGQoJ3NwYWNlci1sZWZ0Jyk7XG4gICAgICAgIHRoaXMuaGVhZGVyLmFwcGVuZENoaWxkKHRoaXMuc3BhY2VyTGVmdCk7XG5cbiAgICAgICAgdGhpcy5zcGFjZXJMZWZ0LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlSGVhZGVyTGluayhcbiAgICAgICAgICAgICdob21lLnN2ZycsXG4gICAgICAgICAgICB0aGlzLmdldERhaWx5UHV6emxlTGluaygpLFxuICAgICAgICAgICAgeyBhbHRUZXh0OiAnZ28gdG8gZGFpbHkgcHV6emxlJyB9XG4gICAgICAgICkpO1xuXG4gICAgICAgIHRoaXMuc3BhY2VyTGVmdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUhlYWRlckxpbmsoXG4gICAgICAgICAgICAnZGljZS0zLnN2ZycsXG4gICAgICAgICAgICB0aGlzLmdldFJhbmRvbVB1enpsZUxpbmsoKSxcbiAgICAgICAgICAgIHsgYWx0VGV4dDogJ2dvIHRvIHJhbmRvbSBwdXp6bGUnIH1cbiAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy50aXRsZVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy50aXRsZVRleHQuaW5uZXJUZXh0ID0gJ0xBTUFSRExFJztcbiAgICAgICAgdGhpcy50aXRsZVRleHQuY2xhc3NMaXN0LmFkZCgndGl0bGUtdGV4dCcpO1xuICAgICAgICB0aGlzLmhlYWRlci5hcHBlbmRDaGlsZCh0aGlzLnRpdGxlVGV4dCk7XG5cbiAgICAgICAgdGhpcy5zcGFjZXJSaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLnNwYWNlclJpZ2h0LmNsYXNzTGlzdC5hZGQoJ3NwYWNlci1yaWdodCcpO1xuICAgICAgICB0aGlzLmhlYWRlci5hcHBlbmRDaGlsZCh0aGlzLnNwYWNlclJpZ2h0KTtcblxuICAgICAgICB0aGlzLnNwYWNlclJpZ2h0LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlSGVhZGVyTGluayhcbiAgICAgICAgICAgICdzb3VyY2Uuc3ZnJyxcbiAgICAgICAgICAgICdodHRwczovL2dpdGh1Yi5jb20vYWhhZ2dhcnQvbGFtYXJkbGUnLFxuICAgICAgICAgICAgeyBuZXdUYWI6IHRydWUsIGFsdFRleHQ6ICdnbyB0byBzb3VyY2UgY29kZScgfVxuICAgICAgICApKTtcblxuICAgICAgICBjb25zdCBoZWxwQnV0dG9uID0gdGhpcy5jcmVhdGVIZWFkZXJJY29uKCdoZWxwLnN2ZycsIHtcbiAgICAgICAgICAgIGFsdFRleHQ6ICdzaG93IHR1dG9yaWFsJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zcGFjZXJSaWdodC5hcHBlbmRDaGlsZChoZWxwQnV0dG9uKTtcblxuICAgICAgICB0aGlzLnVybFNlZWQgPSBuZXcgVVJMKGRvY3VtZW50LmxvY2F0aW9uKS5zZWFyY2hQYXJhbXMuZ2V0KCdzZWVkJyk7XG4gICAgICAgIGNvbnN0IGRhdGVTZWVkID0gdGhpcy5nYW1lRGF0YS5mb3JtYXREYXRlKHRoaXMuZ2FtZURhdGEuZGF0ZSk7XG4gICAgICAgIHRoaXMuc2VlZCA9IHRoaXMudXJsU2VlZCA/PyBkYXRlU2VlZDtcblxuICAgICAgICBjb25zdCBncmlkQ29uZmlnID0ge1xuICAgICAgICAgICAgc2VlZDogdGhpcy5zZWVkLFxuICAgICAgICAgICAgcm93czogNyxcbiAgICAgICAgICAgIGxldHRlcnM6IDUsXG4gICAgICAgICAgICBtYXRjaGVzOiAzLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMudHV0b3JpYWwgPSBuZXcgR2FtZVR1dG9yaWFsKFxuICAgICAgICAgICAgdGhpcy5nYW1lRGF0YSxcbiAgICAgICAgICAgIGdyaWRDb25maWcsXG4gICAgICAgICAgICB0aGlzLmdldEdyaWRBcmVhKClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50dXRvcmlhbCk7XG5cbiAgICAgICAgaGVscEJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gdGhpcy50dXRvcmlhbC5zaG93KCk7XG5cbiAgICAgICAgdGhpcy5ncmlkID0gbmV3IEdhbWVHcmlkKGdyaWRDb25maWcsIHtcbiAgICAgICAgICAgIG9uV2luOiBzb2x1dGlvbiA9PiB0aGlzLndpbkdhbWUoc29sdXRpb24pLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kKHRoaXMuZ3JpZCk7XG5cbiAgICAgICAgdGhpcy5rZXlib2FyZCA9IG5ldyBHYW1lS2V5Ym9hcmQodGhpcy5ncmlkKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kKHRoaXMua2V5Ym9hcmQpO1xuXG4gICAgICAgIHRoaXMuc29sdmVyID0gbmV3IEdhbWVTb2x2ZXIoKTtcblxuICAgICAgICB0aGlzLnJlc2l6ZUdyaWQoKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHRoaXMucmVzaXplR3JpZCgpKTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdCYWNrc3BhY2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5iYWNrc3BhY2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkLnN1Ym1pdCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleS5tYXRjaCgvXlthLXpdJC8pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5rZXlib2FyZC5hcHBlbmRMZXR0ZXIoZS5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVIZWFkZXJMaW5rKGljb25QYXRoLCBsaW5rUGF0aCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgbGlua1BhdGgpO1xuICAgICAgICBpZiAob3B0aW9ucy5uZXdUYWIpXG4gICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpO1xuICAgICAgICBsaW5rLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlSGVhZGVySWNvbihpY29uUGF0aCwgb3B0aW9ucykpO1xuICAgICAgICByZXR1cm4gbGluaztcbiAgICB9XG5cbiAgICBjcmVhdGVIZWFkZXJJY29uKHBhdGgsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlKCdzcmMnLCBwYXRoKTtcbiAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgSEVBREVSX0lDT05fU0laRSk7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBIRUFERVJfSUNPTl9TSVpFKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYWx0VGV4dCkge1xuICAgICAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGUoJ2FsdCcsIG9wdGlvbnMuYWx0VGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMudGl0bGUgfHwgb3B0aW9ucy5hbHRUZXh0KSB7XG4gICAgICAgICAgICBpY29uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBvcHRpb25zLnRpdGxlID8/IG9wdGlvbnMuYWx0VGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGljb247XG4gICAgfVxuXG4gICAgZ2V0R3JpZEFyZWEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogTWF0aC5taW4oTUFYX1dJRFRILCB3aW5kb3cuaW5uZXJXaWR0aCAtIEdSSURfUEFERElOR19XSURUSCksXG4gICAgICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAtIEtFWUJPQVJEX0hFSUdIVCAtIEhFQURFUl9IRUlHSFQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVzaXplR3JpZCgpIHtcbiAgICAgICAgY29uc3QgbGVmdG92ZXIgPSB0aGlzLmdyaWQucmVzaXplKHRoaXMuZ2V0R3JpZEFyZWEoKSk7XG4gICAgICAgIHRoaXMuZ3JpZC5ncmlkLnN0eWxlLm1hcmdpbkJvdHRvbSA9IGxlZnRvdmVyICsgJ3B4JztcbiAgICB9XG5cbiAgICBjb21wdXRlTWF0Y2hpbmcoc29sdXRpb24sIG1hdGNoZXMpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdMZXR0ZXJzID0gW107XG4gICAgICAgIHZhciBjdXJyZW50ID0gc29sdXRpb247XG5cbiAgICAgICAgLy8gaXRlcmF0ZSB0aGUgYXJyYXkgaW4gcmV2ZXJzZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gaSAtIDFdO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE1hdGNoID0gY3VycmVudFxuICAgICAgICAgICAgICAgIC5zcGxpdCgnJylcbiAgICAgICAgICAgICAgICAubWFwKChsZXR0ZXIsIHBvcykgPT4gW2xldHRlciwgbmV4dC5jaGFyQXQocG9zKV0pXG4gICAgICAgICAgICAgICAgLm1hcCgoW2EsIGJdKSA9PiBhID09PSBiKTtcbiAgICAgICAgICAgIG1hdGNoaW5nTGV0dGVycy5wdXNoKGN1cnJlbnRNYXRjaCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXZlcnNlIHRoZSBvdXRwdXRcbiAgICAgICAgbWF0Y2hpbmdMZXR0ZXJzLnJldmVyc2UoKTtcblxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdMZXR0ZXJzO1xuICAgIH1cblxuICAgIGZvcm1hdE1hdGNoaW5nKHNlcXVlbmNlLCBtYXRjaENoYXIsIG5vbk1hdGNoQ2hhcikge1xuICAgICAgICByZXR1cm4gc2VxdWVuY2VcbiAgICAgICAgICAgIC5tYXAocm93TWF0Y2ggPT4gcm93TWF0Y2hcbiAgICAgICAgICAgICAgICAubWFwKGxldHRlck1hdGNoID0+IGxldHRlck1hdGNoID8gbWF0Y2hDaGFyIDogbm9uTWF0Y2hDaGFyKVxuICAgICAgICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjcmVhdGVTaGFyZU1lc3NhZ2Uoc29sdXRpb24sIHRpdGxlKSB7XG4gICAgICAgIGNvbnN0IHVwcGVyU2VxdWVuY2UgPSB0aGlzLmZvcm1hdE1hdGNoaW5nKFxuICAgICAgICAgICAgdGhpcy5jb21wdXRlTWF0Y2hpbmcoc29sdXRpb24uc29sdXRpb24sIHNvbHV0aW9uLnVwcGVyKSxcbiAgICAgICAgICAgIERPV05fQVJST1csIE5PX0FSUk9XXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgbG93ZXJTZXF1ZW5jZSA9IHRoaXMuZm9ybWF0TWF0Y2hpbmcoXG4gICAgICAgICAgICB0aGlzLmNvbXB1dGVNYXRjaGluZyhzb2x1dGlvbi5zb2x1dGlvbiwgc29sdXRpb24ubG93ZXIpLFxuICAgICAgICAgICAgVVBfQVJST1csIE5PX0FSUk9XXG4gICAgICAgICk7XG5cbiAgICAgICAgbG93ZXJTZXF1ZW5jZS5yZXZlcnNlKCk7XG5cbiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQoXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ2xhbWFyZGxlJyxcbiAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICB0aGlzLmdyaWQubnVtR3Vlc3NlcyArICcgdHJpZXMnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHVwcGVyU2VxdWVuY2UsXG4gICAgICAgICAgICBbc29sdXRpb24uc29sdXRpb24uc3BsaXQoJycpLm1hcCgoKSA9PiBTT0xVVElPTl9NQVJLRVIpLmpvaW4oJycpXSxcbiAgICAgICAgICAgIGxvd2VyU2VxdWVuY2VcbiAgICAgICAgKS5qb2luKCdcXG4nKTtcbiAgICB9XG5cbiAgICBjb21wdXRlUGFyKCkge1xuICAgICAgICBjb25zdCBtaW5Tb2x1dGlvbiA9IHRoaXMuc29sdmVyLnNvbHZlKFxuICAgICAgICAgICAgdGhpcy5ncmlkLnVwcGVyU3RhcnQsXG4gICAgICAgICAgICB0aGlzLmdyaWQubG93ZXJTdGFydFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMSwgbWluU29sdXRpb24ubGVuZ3RoIC0gMik7XG4gICAgfVxuXG4gICAgYXN5bmMgd2luR2FtZShzb2x1dGlvbikge1xuICAgICAgICBjb25zdCBtZXNzYWdlTGluZXMgPSBbXTtcbiAgICAgICAgbWVzc2FnZUxpbmVzLnB1c2goJ1lvdSB3b24gaW4gJyArIHRoaXMuZ3JpZC5udW1HdWVzc2VzICsgJyB0cmllcyEnKTtcblxuICAgICAgICBhd2FpdCB0aGlzLnNvbHZlci5sb2FkR3JhcGgoKTtcblxuICAgICAgICBtZXNzYWdlTGluZXMucHVzaCgnUGFyOiAnICsgdGhpcy5jb21wdXRlUGFyKCkpO1xuXG4gICAgICAgIGlmICh0aGlzLnNlZWQgPT09IHRoaXMuZ2FtZURhdGEuZm9ybWF0RGF0ZSh0aGlzLmdhbWVEYXRhLmRhdGUpKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVEYXRhLmFkZFN0cmVhaygpO1xuICAgICAgICAgICAgbWVzc2FnZUxpbmVzLnB1c2goJ0N1cnJlbnQgU3RyZWFrOiAnICsgdGhpcy5nYW1lRGF0YS5kYXRhLnN0cmVhayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndpblBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuXG4gICAgICAgIHRoaXMud2luTWVzc2FnZVRleHQuaW5uZXJUZXh0ID0gbWVzc2FnZUxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgICB0aGlzLndpbk1lc3NhZ2VTaGFyZS5vbmNsaWNrID0gZSA9PiB7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVNZXNzYWdlID0gdGhpcy5jcmVhdGVTaGFyZU1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgc29sdXRpb24sXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24ub3JpZ2luICsgJz9zZWVkPScgKyB0aGlzLnNlZWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBmYWlsTWVzc2FnZSA9ICdGYWlsZWQgdG8gU2hhcmUgOignO1xuXG4gICAgICAgICAgICBjb25zdCBvbGRUZXh0ID0gdGhpcy53aW5NZXNzYWdlU2hhcmUuaW5uZXJUZXh0O1xuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5zaGFyZSkge1xuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zaGFyZSh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkb2N1bWVudC50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogc2hhcmVNZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB0aGlzLndpbk1lc3NhZ2VTaGFyZS5pbm5lclRleHQgPSBmYWlsTWVzc2FnZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci5jbGlwYm9hcmQpIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChzaGFyZU1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMud2luTWVzc2FnZVNoYXJlLmlubmVyVGV4dCA9ICdDb3BpZWQgdG8gY2xpcGJvYXJkISc7XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy53aW5NZXNzYWdlU2hhcmUuaW5uZXJUZXh0ID0gb2xkVGV4dCwgMzAwMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMud2luTWVzc2FnZVNoYXJlLmlubmVyVGV4dCA9IGZhaWxNZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldERhaWx5UHV6emxlTGluaygpIHtcbiAgICAgICAgcmV0dXJuICcuLyc7XG4gICAgfVxuXG4gICAgZ2V0UmFuZG9tUHV6emxlTGluaygpIHtcbiAgICAgICAgcmV0dXJuICcuLz9zZWVkPScgKyB0aGlzLnJhbmRvbVN0cmluZygpO1xuICAgIH1cblxuICAgIHJhbmRvbVN0cmluZygpIHtcbiAgICAgICAgY29uc3QgY29kZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICBjb2Rlcy5wdXNoKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvZGVzLmpvaW4oJycpO1xuICAgIH1cbn1cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbGFtYXJkbGUtZ2FtZScsIExhbWFyZGxlR2FtZSk7XG4iLCJjb25zdCBSRVFVSVJFRF9NQVRDSEVTID0gMztcbmV4cG9ydCBjb25zdCBHUklEX1JPV19HQVAgPSA1O1xuY29uc3QgR1JJRF9DT0xfR0FQID0gNTtcbmV4cG9ydCBjb25zdCBNQVhfV0lEVEggPSA1MDA7XG5jb25zdCBLRVlCT0FSRF9IRUlHSFRfTUlOX1BFUkNFTlQgPSAwLjI1O1xuY29uc3QgTlVNX1JPV1MgPSA3O1xuZXhwb3J0IGNvbnN0IE5VTV9MRVRURVJTID0gNTtcbmNvbnN0IEtFWV9IRUlHSFQgPSA1ODtcbmNvbnN0IEtFWV9NQVJHSU4gPSA1O1xuZXhwb3J0IGNvbnN0IEdSSURfUEFERElORyA9IDEwO1xuZXhwb3J0IGNvbnN0IEhFQURFUl9IRUlHSFQgPSA1MDtcbmV4cG9ydCBjb25zdCBJTlZBTElEX0FOSU1BVElPTl9MRU5HVEhfTVMgPSA0MDA7XG5leHBvcnQgY29uc3QgS0VZQk9BUkRfSEVJR0hUID0gS0VZX0hFSUdIVCAqIDMgKyBLRVlfTUFSR0lOICogMjtcbmV4cG9ydCBjb25zdCBHUklEX1BBRERJTkdfV0lEVEggPSBHUklEX1BBRERJTkcgKiAyO1xuZXhwb3J0IGNvbnN0IEhFQURFUl9JQ09OX1NJWkUgPSAyNTtcbmV4cG9ydCBjb25zdCBDT09LSUVfRVhQSVJBVElPTl9EQVlTID0gMztcbmV4cG9ydCBjb25zdCBVUF9BUlJPVyA9ICdcXHVEODNEXFx1REQzQyc7XG5leHBvcnQgY29uc3QgRE9XTl9BUlJPVyA9ICdcXHVEODNEXFx1REQzRCc7XG5leHBvcnQgY29uc3QgTk9fQVJST1cgPSAnXFx1MjNGQSc7XG5leHBvcnQgY29uc3QgU09MVVRJT05fTUFSS0VSID0gJ1xcdTAwMkFcXHVGRTBGXFx1MjBFMyc7XG4iLCJpbXBvcnQgeyBOVU1fTEVUVEVSUyB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgV29yZExpc3QgfSBmcm9tIFwiLi9Xb3JkTGlzdFwiO1xuXG5cbmV4cG9ydCBjb25zdCBXT1JEX0xJU1QgPSBuZXcgV29yZExpc3QoTlVNX0xFVFRFUlMpO1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRXb3JkcyhjYWxsYmFjaykge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGUgPT4ge1xuICAgICAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSBYTUxIdHRwUmVxdWVzdC5ET05FKSB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmVxdWVzdC5vcGVuKCdHRVQnLCAnZml2ZS1sZXR0ZXJzLnR4dCcpO1xuICAgIHJlcXVlc3Quc2VuZCgpO1xufVxuIiwiZXhwb3J0IGNsYXNzIFdvcmRMaXN0IHtcbiAgICBjb25zdHJ1Y3RvcihudW1MZXR0ZXJzKSB7XG4gICAgICAgIHRoaXMubnVtTGV0dGVycyA9IG51bUxldHRlcnM7XG4gICAgICAgIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uUmVhZHkgPSBbXTtcbiAgICAgICAgdGhpcy53b3JkcyA9IFtdO1xuICAgIH1cblxuICAgIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMub25SZWFkeS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKHRoaXMuaXNSZWFkeSkge1xuICAgICAgICAgICAgY2FsbGJhY2sod29yZHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0V29yZHMocmF3V29yZHMpIHtcbiAgICAgICAgdGhpcy53b3JkcyA9IHJhd1dvcmRzLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgdGhpcy5pc1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblJlYWR5LmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sodGhpcy53b3JkcykpO1xuICAgIH1cbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgbG9hZFdvcmRzLCBXT1JEX0xJU1QgfSBmcm9tIFwiLi9jb250ZXh0XCI7XG5yZXF1aXJlKCcuL0xhbWFyZGxlR2FtZScpO1xuXG5sb2FkV29yZHMod29yZHMgPT4gV09SRF9MSVNULnNldFdvcmRzKHdvcmRzKSk7XG5cbiJdLCJuYW1lcyI6WyJHYW1lS2V5Ym9hcmQiLCJIVE1MRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiZ3JpZCIsInN1cGVyIiwidGhpcyIsImxldHRlcnMiLCJlbmFibGVkIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJtYXJnaW4iLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVJvdyIsImJhY2tzcGFjZSIsImxlbmd0aCIsInN1YnN0cmluZyIsInNldExldHRlcnMiLCJhcHBlbmRMZXR0ZXIiLCJsZXR0ZXIiLCJzdWJtaXQiLCJyb3ciLCJjbGFzc0xpc3QiLCJhZGQiLCJzcGFjZXIiLCJrZXkiLCJpbm5lclRleHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzYWJsZSIsImVuYWJsZSIsInNob3ciLCJyZW1vdmUiLCJoaWRlIiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJHcmlkTGV0dGVyIiwicG9zIiwic2V0TGV0dGVyIiwic2V0TWF0Y2giLCJtYXRjaFVwcGVyIiwibWF0Y2hMb3dlciIsInNldEhpZ2hsaWdodCIsImlzSGlnaGxpZ2h0ZWQiLCJib3JkZXJDb2xvciIsIkdyaWRSb3ciLCJ0aWxlcyIsImNvbmZpZyIsImkiLCJ0aWxlIiwicHVzaCIsImdldEF0dHJpYnV0ZSIsInBhZGRlZExldHRlcnMiLCJwYWRFbmQiLCJ1cGRhdGVNYXRjaGVzIiwidXBwZXIiLCJsb3dlciIsImZvckVhY2giLCJpc0NvbXBsZXRlIiwiZG9lc01hdGNoIiwib3RoZXIiLCJtYXRjaENvdW50IiwibWF0Y2hlcyIsIndpZ2dsZSIsInNldEF0dHJpYnV0ZSIsIndpbmRvdyIsInNldFRpbWVvdXQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJHYW1lR3JpZCIsImNhbGxiYWNrcyIsIndpbkNhbGxiYWNrIiwib25XaW4iLCJyb3dDb25maWciLCJudW1HdWVzc2VzIiwidXBwZXJNYXRjaGVzIiwibG93ZXJNYXRjaGVzIiwiaWQiLCJzZXRQcm9wZXJ0eSIsInJvd3MiLCJXIiwid29yZHMiLCJjcmVhdGVSb3dzIiwib25Mb2FkIiwiZ2V0UmFuZG9tV29yZCIsInNlZWQiLCJNYXRoIiwiYWJzIiwiZ2V0SGFzaENvZGUiLCJ1cHBlclN0YXJ0IiwibG93ZXJTdGFydCIsImN1cnJlbnQiLCJyb3dzQWJvdmUiLCJjZWlsIiwicm93c0JlbG93IiwiZmxvb3IiLCJBcnJheSIsImZpbGwiLCJnZXRUaWxlU2l6ZSIsImdyaWRBcmVhIiwiY29sdW1uR2FwV2lkdGgiLCJtYXhUaWxlV2lkdGgiLCJ3aWR0aCIsImdyaWRQYWRkaW5nSGVpZ2h0Iiwicm93R2FwSGVpZ2h0IiwibWF4VGlsZUhlaWdodCIsImhlaWdodCIsIm1pbiIsInJlc2l6ZSIsInNpemUiLCJ0aWxlU2l6ZSIsImdyaWRXaWR0aCIsImdyaWRIZWlnaHQiLCJpbmNsdWRlcyIsInVwcGVyTWF0Y2giLCJsb3dlck1hdGNoIiwic29sdXRpb24iLCJuZXdSb3ciLCJjaGlsZHJlbiIsImluc2VydEJlZm9yZSIsInN0ciIsImhhc2giLCJjaGFyQ29kZUF0IiwicGFyYWdyYXBoIiwidGV4dCIsImVsZW0iLCJqb2luIiwiR2FtZVR1dG9yaWFsIiwiZ2FtZURhdGEiLCJncmlkQ29uZmlnIiwib3ZlcmxheSIsInRleHRDb250YWluZXIiLCJ0aXRsZSIsImV4YW1wbGUxIiwiZXhhbXBsZTIiLCJleGFtcGxlMyIsImhhc1Zpc2l0ZWQiLCJvbmNsaWNrIiwic2V0VmlzaXRlZCIsIkdhbWVTb2x2ZXIiLCJzb2x2ZSIsInN0YXJ0IiwiZW5kIiwicGF0aHMiLCJNYXAiLCJzZXQiLCJ2aXNpdGluZyIsInRvVmlzaXQiLCJwb3AiLCJkb25lIiwiZ3JhcGgiLCJ3b3JkIiwiaGFzIiwicGF0aCIsImdldCIsImxvYWRHcmFwaCIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwiZSIsInJlYWR5U3RhdGUiLCJET05FIiwic3RhdHVzIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0Iiwib3BlbiIsInNlbmQiLCJHYW1lRGF0YSIsInNjaGVtYSIsInZpc2l0ZWQiLCJ2YWx1ZSIsInN0cmVhayIsInBhcnNlSW50IiwibW9zdFJlY2VudCIsImRhdGUiLCJjb29raWVEYXRhIiwicGFyc2VDb29raWUiLCJkYXRhIiwiY2hlY2tTdHJlYWsiLCJzYXZlRGF0YSIsImZvcm1hdERhdGUiLCJkYXlCZWZvcmUiLCJEYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJhZGRTdHJlYWsiLCJjb29raWVFeHBpcmF0aW9uRGF0ZSIsImV4cGlyYXRpb25TdHJpbmciLCJ0b1VUQ1N0cmluZyIsInByb3AiLCJjb29raWUiLCJkZWNvZGVVUkkiLCJzcGxpdCIsIm1hcCIsImVudHJ5Iiwia2V5VmFsdWUiLCJ0cmltIiwiaGFzT3duUHJvcGVydHkiLCJnZXRGdWxsWWVhciIsInRvU3RyaW5nIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsIkxhbWFyZGxlR2FtZSIsIndpblBvcHVwIiwia2V5Ym9hcmQiLCJ3aW5NZXNzYWdlIiwid2luTWVzc2FnZVRleHQiLCJ3aW5NZXNzYWdlU2hhcmUiLCJoZWFkZXIiLCJzcGFjZXJMZWZ0IiwiY3JlYXRlSGVhZGVyTGluayIsImdldERhaWx5UHV6emxlTGluayIsImFsdFRleHQiLCJnZXRSYW5kb21QdXp6bGVMaW5rIiwidGl0bGVUZXh0Iiwic3BhY2VyUmlnaHQiLCJuZXdUYWIiLCJoZWxwQnV0dG9uIiwiY3JlYXRlSGVhZGVySWNvbiIsInVybFNlZWQiLCJVUkwiLCJsb2NhdGlvbiIsInNlYXJjaFBhcmFtcyIsImRhdGVTZWVkIiwidHV0b3JpYWwiLCJnZXRHcmlkQXJlYSIsIndpbkdhbWUiLCJhcHBlbmQiLCJzb2x2ZXIiLCJyZXNpemVHcmlkIiwibWF0Y2giLCJpY29uUGF0aCIsImxpbmtQYXRoIiwib3B0aW9ucyIsImxpbmsiLCJpY29uIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwibGVmdG92ZXIiLCJtYXJnaW5Cb3R0b20iLCJjb21wdXRlTWF0Y2hpbmciLCJtYXRjaGluZ0xldHRlcnMiLCJuZXh0IiwiY3VycmVudE1hdGNoIiwiY2hhckF0IiwiYSIsImIiLCJyZXZlcnNlIiwiZm9ybWF0TWF0Y2hpbmciLCJzZXF1ZW5jZSIsIm1hdGNoQ2hhciIsIm5vbk1hdGNoQ2hhciIsInJvd01hdGNoIiwibGV0dGVyTWF0Y2giLCJjcmVhdGVTaGFyZU1lc3NhZ2UiLCJ1cHBlclNlcXVlbmNlIiwibG93ZXJTZXF1ZW5jZSIsInByb3RvdHlwZSIsImNvbmNhdCIsImNvbXB1dGVQYXIiLCJtaW5Tb2x1dGlvbiIsIm1heCIsImFzeW5jIiwibWVzc2FnZUxpbmVzIiwic3RvcFByb3BhZ2F0aW9uIiwic2hhcmVNZXNzYWdlIiwib3JpZ2luIiwiZmFpbE1lc3NhZ2UiLCJvbGRUZXh0IiwibmF2aWdhdG9yIiwic2hhcmUiLCJjYXRjaCIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInJhbmRvbVN0cmluZyIsImNvZGVzIiwicmFuZG9tIiwiR1JJRF9ST1dfR0FQIiwiTUFYX1dJRFRIIiwiTlVNX0xFVFRFUlMiLCJHUklEX1BBRERJTkciLCJIRUFERVJfSEVJR0hUIiwiSU5WQUxJRF9BTklNQVRJT05fTEVOR1RIX01TIiwiS0VZQk9BUkRfSEVJR0hUIiwiS0VZX0hFSUdIVCIsIkdSSURfUEFERElOR19XSURUSCIsIkhFQURFUl9JQ09OX1NJWkUiLCJDT09LSUVfRVhQSVJBVElPTl9EQVlTIiwiVVBfQVJST1ciLCJET1dOX0FSUk9XIiwiTk9fQVJST1ciLCJTT0xVVElPTl9NQVJLRVIiLCJXT1JEX0xJU1QiLCJudW1MZXR0ZXJzIiwiaXNSZWFkeSIsIm9uUmVhZHkiLCJhZGRMaXN0ZW5lciIsImNhbGxiYWNrIiwic2V0V29yZHMiLCJyYXdXb3JkcyIsImxvYWRXb3JkcyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwib2JqIiwiY2FsbCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=